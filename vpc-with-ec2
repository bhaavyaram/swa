============================================================
WEEK 5 — VPC CREATION AND EC2 INSTANCE CONNECTION
============================================================


============================================================
PART 1 — CREATE CUSTOM VPC
============================================================

------------------------------------------------------------
STEP 1 — OPEN VPC SERVICE
------------------------------------------------------------
1) Login to AWS Management Console
2) In search bar type:
   VPC
3) Click:
   VPC
4) Click:
   Create VPC

------------------------------------------------------------
STEP 2 — CONFIGURE VPC
------------------------------------------------------------
1) Select:
   VPC only
2) Name tag:
   Custom-VPC
3) IPv4 CIDR block:
   10.0.0.0/16
4) Leave other settings default
5) Click:
   Create VPC

VPC created successfully.


============================================================
PART 2 — CREATE PUBLIC AND PRIVATE SUBNETS
============================================================

------------------------------------------------------------
STEP 1 — CREATE PUBLIC SUBNET
------------------------------------------------------------
1) In left menu click:
   Subnets
2) Click:
   Create subnet
3) VPC:
   Select Custom-VPC
4) Subnet name:
   Public-Subnet
5) Availability Zone:
   Choose AZ-A (example: ap-south-1a)
6) IPv4 CIDR block:
   10.0.1.0/24
7) Click:
   Create subnet


------------------------------------------------------------
STEP 2 — CREATE PRIVATE SUBNET
------------------------------------------------------------
1) Click:
   Create subnet
2) VPC:
   Custom-VPC
3) Subnet name:
   Private-Subnet
4) Availability Zone:
   Same AZ (AZ-A)
5) IPv4 CIDR block:
   10.0.2.0/24
6) Click:
   Create subnet


============================================================
PART 3 — CREATE INTERNET GATEWAY (IGW)
============================================================

1) In left menu click:
   Internet Gateways
2) Click:
   Create internet gateway
3) Name tag:
   Custom-IGW
4) Click:
   Create internet gateway
5) Click:
   Attach to VPC
6) Select:
   Custom-VPC
7) Click:
   Attach internet gateway


============================================================
PART 4 — CREATE ROUTE TABLES
============================================================

------------------------------------------------------------
PUBLIC ROUTE TABLE
------------------------------------------------------------

1) Click:
   Route Tables
2) Click:
   Create route table
3) Name:
   Public-RT
4) VPC:
   Custom-VPC
5) Click:
   Create route table

Add Internet Route:

6) Select Public-RT
7) Go to:
   Routes tab
8) Click:
   Edit routes
9) Click:
   Add route
10) Destination:
    0.0.0.0/0
11) Target:
    Internet Gateway
    Select Custom-IGW
12) Click:
    Save changes

Associate Public Subnet:

13) Go to:
    Subnet associations tab
14) Click:
    Edit subnet associations
15) Select:
    Public-Subnet
16) Click:
    Save associations


------------------------------------------------------------
PRIVATE ROUTE TABLE
------------------------------------------------------------

1) Click:
   Create route table
2) Name:
   Private-RT
3) VPC:
   Custom-VPC
4) Click:
   Create route table

(Do NOT add 0.0.0.0/0 to IGW)

Associate Private Subnet:

5) Go to:
   Subnet associations
6) Click:
   Edit subnet associations
7) Select:
   Private-Subnet
8) Click:
   Save associations


============================================================
PART 5 — ENABLE AUTO-ASSIGN PUBLIC IP
============================================================

1) Go to:
   Subnets
2) Select:
   Public-Subnet
3) Click:
   Actions
4) Click:
   Edit subnet settings
5) Enable:
   ✔ Auto-assign public IPv4 address
6) Click:
   Save


============================================================
PART 6 — CREATE SECURITY GROUP
============================================================

1) Go to:
   Security Groups
2) Click:
   Create security group
3) Name:
   Web-SG
4) VPC:
   Custom-VPC

Add Inbound Rules:

5) Click:
   Add rule
   Type: HTTP
   Port: 80
   Source: Anywhere

6) Click:
   Add rule
   Type: HTTPS
   Port: 443
   Source: Anywhere

7) Click:
   Add rule
   Type: SSH
   Port: 22
   Source: My IP

8) Click:
   Create security group


============================================================
PART 7 — LAUNCH EC2 INSTANCES
============================================================

------------------------------------------------------------
LAUNCH PUBLIC EC2
------------------------------------------------------------

1) Go to:
   EC2
2) Click:
   Launch Instance
3) Name:
   Public-EC2
4) AMI:
   Amazon Linux 2
5) Instance type:
   t2.micro
6) Key pair:
   Select existing
7) Network:
   Custom-VPC
8) Subnet:
   Public-Subnet
9) Auto-assign Public IP:
   Enable
10) Security group:
    Select Web-SG
11) Click:
    Launch Instance


------------------------------------------------------------
LAUNCH PRIVATE EC2
------------------------------------------------------------

1) Click:
   Launch Instance
2) Name:
   Private-EC2
3) AMI:
   Amazon Linux 2
4) Instance type:
   t2.micro
5) Key pair:
   Select same key
6) Network:
   Custom-VPC
7) Subnet:
   Private-Subnet
8) Auto-assign Public IP:
   Disable
9) Security group:
   Select Web-SG
10) Click:
    Launch Instance


============================================================
PART 8 — TEST THE SETUP
============================================================

Public EC2:

1) Copy Public IP
2) Connect using SSH
3) Run:
   ping google.com
Internet access should work.


Private EC2:

1) No Public IP visible.
2) Cannot SSH directly from internet.
3) Can only access through Public EC2 (if configured with NAT).

Expected Results:

✔ Public EC2 → Direct internet access
✔ Private EC2 → No direct inbound access
✔ Private EC2 → Requires NAT for internet access
